{"version":3,"sources":["webpack:///./src/modules/ExampleWebix/views/table.ui.js","webpack:///./src/modules/ExampleWebix/controllers/table.js","webpack:///./src/modules/ExampleWebix/module.js"],"names":["TableUI","id","ui","header","css","width","template","fillspace","container","view","select","selected","columns","height","Table","app","webix","eventHandler","loadData","destructor","$$","attachEvent","$$emit","getItem","row","parse","exampleData","title","hidden","sort","description","open","data","chaptdescriptioner","chapdescriptionter","Onedeck","Observable","ExampleWebix","path","state","console","log","constructor","name","destroy","$$on","$$rout","showItem","module","layout","text","Object","keys","forEach","key","ok","cancel","type","callback","result","Module"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;IAGqBA,O;;;AACnB,qBAAc;AAAA;;AACZ,SAAKC,EAAL,GAAU,OAAV;AACA,WAAO,KAAKC,EAAL,EAAP;AACD;;;;8BAES;AACR,aAAO,CACL;AACED,UAAE,EAAE,IADN;AACYE,cAAM,EAAE,IADpB;AAC0BC,WAAG,EAAE;AAAE,wBAAc;AAAhB,SAD/B;AAC0DC,aAAK,EAAE;AADjE,OADK,EAIL;AACEJ,UAAE,EAAE,OADN;AAEEE,cAAM,EAAE,MAFV;AAGEE,aAAK,EAAE,GAHT;AAIEC,gBAAQ,EAAE;AAJZ,OAJK,EAUL;AAAEL,UAAE,EAAE,aAAN;AAAqBE,cAAM,EAAE,aAA7B;AAA4CI,iBAAS,EAAE;AAAvD,OAVK,EAWL;AAAEN,UAAE,EAAE,MAAN;AAAcE,cAAM,EAAE,MAAtB;AAA8BE,aAAK,EAAE;AAArC,OAXK,EAYL;AAAEJ,UAAE,EAAE,QAAN;AAAgBE,cAAM,EAAE,QAAxB;AAAkCE,aAAK,EAAE;AAAzC,OAZK,CAAP;AAcD;;;yBAEI;AACH,aAAO;AACLJ,UAAE,EAAE,KAAKA,EADJ;AAELO,iBAAS,EAAE,aAFN;AAGLC,YAAI,EAAE,WAHD;AAILC,cAAM,EAAE,KAJH;AAKLC,gBAAQ,EAAE,IALL;AAMLC,eAAO,EAAE,KAAKA,OAAL,EANJ;AAOLC,cAAM,EAAE;AAPH,OAAP;AASD;;;;;;;;;;;;;;;;;;;;;;;;;;ACpCH;;;AAGA;AACA;AACA;;IAEqBC,W;;;;;AACnB,mBAAc;AAAA;;AAAA;;AACZ;AAEA,UAAKZ,EAAL,GAAU,IAAIF,OAAJ,EAAV;AACA,UAAKC,EAAL,GAAU,MAAKC,EAAL,CAAQD,EAAlB;AACA,UAAKc,GAAL,GAAWC,iBAAA,CAAS,MAAKd,EAAd,CAAX;;AAEA,UAAKe,YAAL;;AACA,UAAKC,QAAL;;AARY;AASb;;;;8BAEU;AACT,WAAKH,GAAL,CAASI,UAAT;AACD;;;mCAEe;AAAA;;AACdC,QAAE,CAAC,KAAKnB,EAAN,CAAF,CAAYoB,WAAZ,CAAwB,eAAxB,EAAyC,UAACpB,EAAD;AAAA,eAAQ,MAAI,CAACqB,MAAL,CAAY,YAAZ,EAA0BF,EAAE,CAAC,MAAI,CAACnB,EAAN,CAAF,CAAYsB,OAAZ,CAAoBtB,EAAE,CAACuB,GAAvB,CAA1B,CAAR;AAAA,OAAzC;AACD;;;+BAEW;AACVJ,QAAE,CAAC,KAAKnB,EAAN,CAAF,CAAYwB,KAAZ,CAAkB,KAAKC,WAAL,EAAlB;AACD;;;kCAEc;AACb,aAAO,CACL;AACEzB,UAAE,EAAE,GADN;AAEE0B,aAAK,EAAE,0BAFT;AAGEC,cAAM,EAAE,IAHV;AAIEC,YAAI,EAAE,EAJR;AAKEC,mBAAW,EAAE,0BALf;AAMEC,YAAI,EAAE,IANR;AAOEC,YAAI,EAAE,CACJ;AAAE/B,YAAE,EAAE,KAAN;AAAa0B,eAAK,EAAE,QAApB;AAA8BG,qBAAW,EAAE;AAA3C,SADI,EAEJ;AACE7B,YAAE,EAAE,KADN;AAEE0B,eAAK,EAAE,QAFT;AAGEM,4BAAkB,EAAE,MAHtB;AAIEF,cAAI,EAAE,IAJR;AAKEC,cAAI,EAAE,CACJ;AAAE/B,cAAE,EAAE,OAAN;AAAe0B,iBAAK,EAAE,QAAtB;AAAgCG,uBAAW,EAAE;AAA7C,WADI,EAEJ;AACE7B,cAAE,EAAE,OADN;AAEE0B,iBAAK,EAAE,QAFT;AAGEO,8BAAkB,EAAE;AAHtB,WAFI;AALR,SAFI,EAgBJ;AAAEjC,YAAE,EAAE,KAAN;AAAa0B,eAAK,EAAE,QAApB;AAA8BG,qBAAW,EAAE;AAA3C,SAhBI;AAPR,OADK,EA2BL;AACE7B,UAAE,EAAE,GADN;AAEE0B,aAAK,EAAE,eAFT;AAGEK,YAAI,EAAE,CACJ;AAAE/B,YAAE,EAAE,KAAN;AAAa0B,eAAK,EAAE,QAApB;AAA8BG,qBAAW,EAAE;AAA3C,SADI,EAEJ;AAAE7B,YAAE,EAAE,KAAN;AAAa0B,eAAK,EAAE,QAApB;AAA8BG,qBAAW,EAAE;AAA3C,SAFI;AAHR,OA3BK,CAAP;AAoCD;;;;EA7DgCK,gBAAO,CAACC,U;;;;;;;;;;;;;;;;;;;;;;;ACP3C;AACA;AACA;AACA;AACA;AAEA;;;;;IAIqBC,mB;;;;;;;;;;;;;yBACbC,I,EAAMC,K,EAAO;AACjBC,aAAO,CAACC,GAAR,CAAY,MAAZ,EAAoB,KAAKC,WAAL,CAAiBC,IAArC,EAA2CL,IAA3C,EAAiDC,KAAjD;AAEA,WAAKzB,KAAL,GAAa,IAAIA,WAAJ,EAAb;AAEA,WAAKG,YAAL;AACD;;;8BAEU;AACT,WAAKH,KAAL,CAAW8B,OAAX;AACD;;;mCAEe;AAAA;;AACd;AACA,WAAK9B,KAAL,CAAW+B,IAAX,CAAgB,YAAhB,EAA8B,UAACrB,GAAD;AAAA,eAAS,KAAI,CAACsB,MAAL,CAAY;AACjDR,cAAI,uBAAgBd,GAAG,CAACvB,EAApB,CAD6C;AAEjDsC,eAAK,EAAEf;AAF0C,SAAZ,CAAT;AAAA,OAA9B;AAID;;;+BAEWc,I,EAAMC,K,EAAO;AACvBC,aAAO,CAACC,GAAR,CAAY,YAAZ,EAA0B,KAAKC,WAAL,CAAiBC,IAA3C,EAAiDL,IAAjD,EAAuDC,KAAvD;AAEA,UAAI,CAACD,IAAL,EAAW;AACX,UAAIA,IAAI,CAAC,CAAD,CAAJ,KAAY,MAAhB,EAAwB,KAAKS,QAAL,CAAcR,KAAd,EAAqBD,IAAI,CAAC,CAAD,CAAzB;AACzB;;;4BAEQU,M,EAAQC,M,EAAQ;AACvBT,aAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB,KAAKC,WAAL,CAAiBC,IAAxC,EAA8CK,MAA9C,EAAsDC,MAAtD;AACD;;;6BAESV,K,EAAOtC,E,EAAI;AACnB,UAAIiD,IAAI,GAAG,EAAX;;AACA,UAAIX,KAAJ,EAAW;AACTY,cAAM,CAACC,IAAP,CAAYb,KAAZ,EAAmBc,OAAnB,CAA2B,UAACC,GAAD,EAAS;AAClCJ,cAAI,cAAOI,GAAP,gBAAgBf,KAAK,CAACe,GAAD,CAArB,WAAJ;AACD,SAFD;AAGD,OAJD,MAIO;AACLJ,YAAI,GAAG,0BAAP;AACD;;AAEDlC,4BAAA,CAAc;AACZW,aAAK,gBAAS1B,EAAT,CADO;AAEZsD,UAAE,EAAE,KAFQ;AAGZC,cAAM,EAAE,IAHI;AAIZC,YAAI,EAAE,eAJM;AAKZP,YAAI,EAAJA,IALY;AAMZQ,gBAAQ,EAAE,kBAACC,MAAD,EAAY;AACpB,cAAIA,MAAJ,EAAYnB,OAAO,CAACC,GAAR,CAAY,IAAZ;AACb;AARW,OAAd;AAUD;;;;EApDuCN,gBAAO,CAACyB,M","file":"10.655b6586b1d47d4c1401.js","sourcesContent":["/**\n * Class POUI\n */\nexport default class TableUI {\n  constructor() {\n    this.id = 'Table';\n    return this.ui();\n  }\n\n  columns() {\n    return [\n      {\n        id: 'id', header: 'ID', css: { 'text-align': 'right' }, width: 50,\n      },\n      {\n        id: 'title',\n        header: 'Name',\n        width: 250,\n        template: '{common.treetable()} #title#',\n      },\n      { id: 'description', header: 'Description', fillspace: true },\n      { id: 'sort', header: 'Sort', width: 150 },\n      { id: 'hidden', header: 'Hidden', width: 150 },\n    ];\n  }\n\n  ui() {\n    return {\n      id: this.id,\n      container: 'MainContent',\n      view: 'treetable',\n      select: 'row',\n      selected: true,\n      columns: this.columns(),\n      height: 300,\n    };\n  }\n}\n","/**\n * controller for CatalogTableUI\n */\nimport * as webix from 'webix';\nimport Onedeck from 'onedeck';\nimport TableUI from 'ExampleWebix/views/table.ui';\n\nexport default class Table extends Onedeck.Observable {\n  constructor() {\n    super();\n\n    this.ui = new TableUI();\n    this.id = this.ui.id;\n    this.app = webix.ui(this.ui);\n\n    this.eventHandler();\n    this.loadData();\n  }\n\n  destroy () {\n    this.app.destructor();\n  }\n\n  eventHandler () {\n    $$(this.id).attachEvent('onAfterSelect', (id) => this.$$emit('onClickRow', $$(this.id).getItem(id.row)));\n  }\n\n  loadData () {\n    $$(this.id).parse(this.exampleData());\n  }\n\n  exampleData () {\n    return [\n      {\n        id: '1',\n        title: 'The Shawshank Redemption',\n        hidden: true,\n        sort: 15,\n        description: 'The Shawshank Redemption',\n        open: true,\n        data: [\n          { id: '1.1', title: 'Part 1', description: 'alpha' },\n          {\n            id: '1.2',\n            title: 'Part 2',\n            chaptdescriptioner: 'beta',\n            open: true,\n            data: [\n              { id: '1.2.1', title: 'Part 1', description: 'beta-twin' },\n              {\n                id: '1.2.2',\n                title: 'Part 1',\n                chapdescriptionter: 'beta-twin',\n              },\n            ],\n          },\n          { id: '1.3', title: 'Part 3', description: 'gamma' },\n        ],\n      },\n      {\n        id: '2',\n        title: 'The Godfather',\n        data: [\n          { id: '2.1', title: 'Part 1', description: 'alpha' },\n          { id: '2.2', title: 'Part 2', description: 'beta' },\n        ],\n      },\n    ];\n  }\n}\n","import 'webix/webix.css';\nimport 'webix/skins/mini.min.css';\nimport * as webix from 'webix';\nimport Table from 'ExampleWebix/controllers/table';\nimport Onedeck from 'onedeck';\n\n/**\n * Class ExampleWebix\n * module use Webix\n */\nexport default class ExampleWebix extends Onedeck.Module {\n  init (path, state) {\n    console.log('init', this.constructor.name, path, state);\n\n    this.Table = new Table();\n\n    this.eventHandler();\n  }\n\n  destroy () {\n    this.Table.destroy();\n  }\n\n  eventHandler () {\n    // Открыть меню\n    this.Table.$$on('onClickRow', (row) => this.$$rout({\n      path: `/main/item/${row.id}`,\n      state: row,\n    }));\n  }\n\n  dispatcher (path, state) {\n    console.log('dispatcher', this.constructor.name, path, state);\n\n    if (!path) return;\n    if (path[1] === 'item') this.showItem(state, path[2]);\n  }\n\n  mounted (module, layout) {\n    console.log('mounted', this.constructor.name, module, layout);\n  }\n\n  showItem (state, id) {\n    let text = '';\n    if (state) {\n      Object.keys(state).forEach((key) => {\n        text += `${key} : ${state[key]} </br>`;\n      });\n    } else {\n      text = 'API REQUEST IN THIS CASE';\n    }\n\n    webix.confirm({\n      title: `ID: ${id}`,\n      ok: 'Yes',\n      cancel: 'No',\n      type: 'confirm-error',\n      text,\n      callback: (result) => {\n        if (result) console.log('OK');\n      },\n    });\n  }\n}\n"],"sourceRoot":""}